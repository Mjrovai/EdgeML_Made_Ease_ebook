<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Edge AI Engineering - Setup</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../raspi/image_classification/image_classification_fund.html" rel="next">
<link href="../../images/unifei-logo.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Edge AI Engineering</span>
    </a>
  </div>
        <div class="quarto-navbar-tools ms-auto tools-wide">
    <a href="https://github.com/Mjrovai/EdgeML-with-Raspberry-Pi" rel="" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <a href="../../Edge-AI-Engineering.pdf" rel="" title="Download PDF" class="quarto-navigation-tool px-1" aria-label="Download PDF"><i class="bi bi-file-pdf"></i></a>
    <a href="https://www.linkedin.com/sharing/share-offsite/?url=|url|" rel="" title="LinkedIn" class="quarto-navigation-tool px-1" aria-label="LinkedIn"><i class="bi bi-linkedin"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../raspi/setup/setup.html">Setup</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Acknowledgements.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Acknowledgments</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../about_book.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About this Book</span></a>
  </div>
</li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Classification_of_AI_Applications.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Classification of AI Applications</span></a>
  </div>
</li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text"><div class="part">Fixed Function AI (Reactive)</div></span></span>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../raspi/setup/setup.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Setup</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../raspi/image_classification/image_classification_fund.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Image Classification Fundamentals</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../raspi/image_classification/custom_image_classification_project.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Custom Image Classification Project</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../raspi/object_detection/object_detection_fundamentals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Object Detection: Fundamentals</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../raspi/object_detection/custom_object_detection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Custom Object Detection Project</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../raspi/object_detection/cv_yolo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Computer Vision Applications with YOLO</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../raspi/counting_objects_yolo/counting_objects_yolo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Counting objects with YOLO</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../raspi/executorch/executorch.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Image Classification with EXECUTORCH</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../raspi/hw_acceleration/hw_acceleration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Beyond CPU - Hardware Acceleration for Edge AI</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text"><div class="part">Generative AI (Proactive)</div></span></span>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../raspi/rnn-verne/rnn-verne.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Text Generation with RNNs</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../raspi/kd_intro/kd_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Knowledge Distillation in Practice</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../raspi/llm/slm_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Small Language Models (SLM)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../raspi/llm/slm_opt_tech.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SLM: Basic Optimization Techniques</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../raspi/vlm/vlm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Vision-Language Models at the Edge</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../raspi/audio_pipeline/audio_pipeline.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Audio and Vision AI Pipeline</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../raspi/physical_comp/RPi_Physical_Computing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Physical Computing with Raspberry Pi</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../raspi/iot/slm_iot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Experimenting with SLMs for IoT Control</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../raspi/advancing_adgeai/adv_edgeai.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Advancing EdgeAI: Beyond Basic SLMs</span></a>
  </div>
</li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text"><div class="part">Weekly Labs</div></span></span>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../weekly_labs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Edge AI Engineering - Weekly Labs</span></a>
  </div>
</li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text"><div class="part">References &amp; Author</div></span></span>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../about_the_author.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About the author</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a>
  <ul>
  <li><a href="#key-features" id="toc-key-features" class="nav-link" data-scroll-target="#key-features">Key Features</a></li>
  <li><a href="#raspberry-pi-models-covered-in-this-book" id="toc-raspberry-pi-models-covered-in-this-book" class="nav-link" data-scroll-target="#raspberry-pi-models-covered-in-this-book">Raspberry Pi Models (covered in this book)</a></li>
  <li><a href="#engineering-applications" id="toc-engineering-applications" class="nav-link" data-scroll-target="#engineering-applications">Engineering Applications</a></li>
  </ul></li>
  <li><a href="#hardware-overview" id="toc-hardware-overview" class="nav-link" data-scroll-target="#hardware-overview">Hardware Overview</a>
  <ul>
  <li><a href="#raspberry-pi-zero-2w" id="toc-raspberry-pi-zero-2w" class="nav-link" data-scroll-target="#raspberry-pi-zero-2w">Raspberry Pi Zero 2W</a></li>
  <li><a href="#raspberry-pi-5" id="toc-raspberry-pi-5" class="nav-link" data-scroll-target="#raspberry-pi-5">Raspberry Pi 5</a></li>
  </ul></li>
  <li><a href="#installing-the-operating-system" id="toc-installing-the-operating-system" class="nav-link" data-scroll-target="#installing-the-operating-system">Installing the Operating System</a>
  <ul>
  <li><a href="#the-operating-system-os" id="toc-the-operating-system-os" class="nav-link" data-scroll-target="#the-operating-system-os">The Operating System (OS)</a></li>
  <li><a href="#installation" id="toc-installation" class="nav-link" data-scroll-target="#installation">Installation</a></li>
  <li><a href="#initial-configuration" id="toc-initial-configuration" class="nav-link" data-scroll-target="#initial-configuration">Initial Configuration</a></li>
  </ul></li>
  <li><a href="#remote-access" id="toc-remote-access" class="nav-link" data-scroll-target="#remote-access">Remote Access</a>
  <ul>
  <li><a href="#ssh-access" id="toc-ssh-access" class="nav-link" data-scroll-target="#ssh-access">SSH Access</a></li>
  <li><a href="#to-shut-down-the-raspi-via-terminal" id="toc-to-shut-down-the-raspi-via-terminal" class="nav-link" data-scroll-target="#to-shut-down-the-raspi-via-terminal">To shut down the Raspi via terminal:</a></li>
  <li><a href="#transfer-files-between-the-raspberry-pi-and-a-computer" id="toc-transfer-files-between-the-raspberry-pi-and-a-computer" class="nav-link" data-scroll-target="#transfer-files-between-the-raspberry-pi-and-a-computer">Transfer Files between the Raspberry Pi and a computer</a>
  <ul class="collapse">
  <li><a href="#using-secure-copy-protocol-scp" id="toc-using-secure-copy-protocol-scp" class="nav-link" data-scroll-target="#using-secure-copy-protocol-scp">Using Secure Copy Protocol (<code>scp</code>):</a></li>
  <li><a href="#transferring-files-using-ftp" id="toc-transferring-files-using-ftp" class="nav-link" data-scroll-target="#transferring-files-using-ftp">Transferring files using FTP</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#increasing-swap-memory" id="toc-increasing-swap-memory" class="nav-link" data-scroll-target="#increasing-swap-memory">Increasing SWAP Memory</a>
  <ul>
  <li><a href="#fixedsize-zram-better-for-zero2s-sd-card" id="toc-fixedsize-zram-better-for-zero2s-sd-card" class="nav-link" data-scroll-target="#fixedsize-zram-better-for-zero2s-sd-card">Fixed‑size <strong>zram</strong> (better for Zero‑2’s SD card)</a></li>
  <li><a href="#notes-specific-to-zero-2-w-trixie" id="toc-notes-specific-to-zero-2-w-trixie" class="nav-link" data-scroll-target="#notes-specific-to-zero-2-w-trixie">Notes specific to Zero 2 W Trixie</a></li>
  </ul></li>
  <li><a href="#installing-a-camera" id="toc-installing-a-camera" class="nav-link" data-scroll-target="#installing-a-camera">Installing a Camera</a>
  <ul>
  <li><a href="#installing-a-camera-module-on-the-csi-port" id="toc-installing-a-camera-module-on-the-csi-port" class="nav-link" data-scroll-target="#installing-a-camera-module-on-the-csi-port">Installing a Camera Module on the CSI port</a></li>
  <li><a href="#installing-a-usb-webcam" id="toc-installing-a-usb-webcam" class="nav-link" data-scroll-target="#installing-a-usb-webcam">Installing a USB WebCam</a>
  <ul class="collapse">
  <li><a href="#video-streaming" id="toc-video-streaming" class="nav-link" data-scroll-target="#video-streaming">Video Streaming</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#running-the-raspi-desktop-remotely" id="toc-running-the-raspi-desktop-remotely" class="nav-link" data-scroll-target="#running-the-raspi-desktop-remotely">Running the Raspi Desktop remotely</a></li>
  <li><a href="#updating-and-installing-software" id="toc-updating-and-installing-software" class="nav-link" data-scroll-target="#updating-and-installing-software">Updating and Installing Software</a></li>
  <li><a href="#model-specific-considerations" id="toc-model-specific-considerations" class="nav-link" data-scroll-target="#model-specific-considerations">Model-Specific Considerations</a>
  <ul>
  <li><a href="#raspberry-pi-zero-raspi-zero" id="toc-raspberry-pi-zero-raspi-zero" class="nav-link" data-scroll-target="#raspberry-pi-zero-raspi-zero">Raspberry Pi Zero (Raspi-Zero)</a></li>
  <li><a href="#raspberry-pi-4-or-5-raspi-4-or-raspi-5" id="toc-raspberry-pi-4-or-5-raspi-4-or-raspi-5" class="nav-link" data-scroll-target="#raspberry-pi-4-or-5-raspi-4-or-raspi-5">Raspberry Pi 4 or 5 (Raspi-4 or Raspi-5)</a></li>
  </ul></li>
  <li><a href="#measuring-temperature-and-power" id="toc-measuring-temperature-and-power" class="nav-link" data-scroll-target="#measuring-temperature-and-power">Measuring Temperature and Power</a>
  <ul>
  <li><a href="#check-cpu-temperature" id="toc-check-cpu-temperature" class="nav-link" data-scroll-target="#check-cpu-temperature">Check CPU Temperature</a>
  <ul class="collapse">
  <li><a href="#quick-oneshot-reading" id="toc-quick-oneshot-reading" class="nav-link" data-scroll-target="#quick-oneshot-reading">Quick one‑shot reading</a></li>
  <li><a href="#continuous-temperature-monitor" id="toc-continuous-temperature-monitor" class="nav-link" data-scroll-target="#continuous-temperature-monitor">Continuous temperature monitor</a></li>
  <li><a href="#reading-from-sysfs-for-scripts" id="toc-reading-from-sysfs-for-scripts" class="nav-link" data-scroll-target="#reading-from-sysfs-for-scripts">Reading from sysfs (for scripts)</a></li>
  </ul></li>
  <li><a href="#understand-power-measurement-on-pi-5" id="toc-understand-power-measurement-on-pi-5" class="nav-link" data-scroll-target="#understand-power-measurement-on-pi-5">Understand Power Measurement on Pi 5</a></li>
  <li><a href="#script-average-temperature-and-power" id="toc-script-average-temperature-and-power" class="nav-link" data-scroll-target="#script-average-temperature-and-power">Script: Average Temperature and Power</a>
  <ul class="collapse">
  <li><a href="#create-the-script" id="toc-create-the-script" class="nav-link" data-scroll-target="#create-the-script">Create the script</a></li>
  <li><a href="#make-it-executable" id="toc-make-it-executable" class="nav-link" data-scroll-target="#make-it-executable">Make it executable</a></li>
  </ul></li>
  <li><a href="#run-a-measurement" id="toc-run-a-measurement" class="nav-link" data-scroll-target="#run-a-measurement">Run a measurement</a></li>
  <li><a href="#interpreting-the-results" id="toc-interpreting-the-results" class="nav-link" data-scroll-target="#interpreting-the-results">Interpreting the Results</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/Mjrovai/EdgeML-with-Raspberry-Pi/edit/main/raspi/setup/setup.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/Mjrovai/EdgeML-with-Raspberry-Pi/issues/new" class="toc-action">Report an issue</a></p><p><a href="https://github.com/Mjrovai/EdgeML-with-Raspberry-Pi/blob/main/raspi/setup/setup.qmd" class="toc-action">View source</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Setup</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/jpeg/rasp_setup_portada.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption"><em>DALL·E prompt - An electronics laboratory environment inspired by the 1950s, with a cartoon style. The lab should have vintage equipment, large oscilloscopes, old-fashioned tube radios, and large, boxy computers. The Raspberry Pi 5 board is prominently displayed, accurately shown in its real size, similar to a credit card, on a workbench. The Pi board is surrounded by classic lab tools like a soldering iron, resistors, and wires. The overall scene should be vibrant, with exaggerated colors and playful details characteristic of a cartoon. No logos or text should be included.</em></figcaption>
</figure>
</div>
<p>This chapter will guide you through setting up the Raspberry Pi Zero 2 W (Raspi-Zero) and the Raspberry Pi 5 (<em>Raspi-5</em>) models. We’ll cover hardware setup, operating system installation, initial configuration, and tests.</p>
<blockquote class="blockquote">
<p>The general instructions for the <em>Raspi-5</em> also apply to the older Raspberry Pi versions, such as the Raspi-3 and Raspi-4.</p>
</blockquote>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>The Raspberry Pi is a powerful and versatile single-board computer that has become an essential tool for engineers across various disciplines. Developed by the <a href="https://www.raspberrypi.org/">Raspberry Pi Foundation</a>, these compact devices offer a unique combination of affordability, computational power, and extensive GPIO (General Purpose Input/Output) capabilities, making them ideal for prototyping, embedded systems development, and advanced engineering projects.</p>
<section id="key-features" class="level3">
<h3 class="anchored" data-anchor-id="key-features">Key Features</h3>
<ol type="1">
<li><p><strong>Computational Power</strong>: Despite their small size, Raspberry Pis offer significant processing capabilities, with the latest models featuring multi-core ARM processors and up to 8GB of RAM.</p></li>
<li><p><strong>GPIO Interface</strong>: The 40-pin GPIO header enables direct interaction with sensors, actuators, and other electronic components, facilitating hardware-software integration.</p></li>
<li><p><strong>Extensive Connectivity</strong>: Built-in Wi-Fi, Bluetooth, Ethernet, and multiple USB ports enable a wide range of communication and networking projects.</p></li>
<li><p><strong>Low-Level Hardware Access</strong>: Raspberry Pis provide access to interfaces such as I2C, SPI, and UART, enabling detailed control and communication with external devices.</p></li>
<li><p><strong>Real-Time Capabilities</strong>: With proper configuration, Raspberry Pis can be used for soft real-time applications, making them suitable for control systems and signal processing tasks.</p></li>
<li><p><strong>Power Efficiency</strong>: Low power consumption enables battery-powered and energy-efficient designs, especially in models like the Pi Zero.</p></li>
</ol>
</section>
<section id="raspberry-pi-models-covered-in-this-book" class="level3">
<h3 class="anchored" data-anchor-id="raspberry-pi-models-covered-in-this-book">Raspberry Pi Models (covered in this book)</h3>
<ol type="1">
<li><strong>Raspberry Pi Zero 2 W</strong> (<em>Raspi-Zero</em>):
<ul>
<li>Ideal for: Compact embedded systems</li>
<li>Key specs: 1GHz single-core CPU (ARM Cortex-A53), 512MB RAM, minimal power consumption (usually, around 600mW in Idle. Also, the power-off (“zombie current”) is very low, at around 45 mA (225 mW), significantly lower than on full-size Raspberry Pi models.</li>
</ul></li>
<li><strong>Raspberry Pi 5</strong> (<em>Raspi-5</em>):
<ul>
<li>Ideal for more demanding applications, such as edge computing, computer vision, and edgeAI applications, including LLMs.</li>
<li>Key specs: 2.4GHz quad-core CPU (ARM Cortex A-76), up to 8GB RAM, PCIe interface for expansions, higher power consumption (usually, around 3-3.5W in Idle)</li>
</ul></li>
</ol>
</section>
<section id="engineering-applications" class="level3">
<h3 class="anchored" data-anchor-id="engineering-applications">Engineering Applications</h3>
<ol type="1">
<li><p><strong>Embedded Systems Design</strong>: Develop and prototype embedded systems for real-world applications.</p></li>
<li><p><strong>IoT and Networked Devices</strong>: Create interconnected devices and explore protocols like MQTT, CoAP, and HTTP/HTTPS.</p></li>
<li><p><strong>Control Systems</strong>: Implement feedback control loops, PID controllers, and interface with actuators.</p></li>
<li><p><strong>Computer Vision and AI</strong>: Utilize libraries like OpenCV and TensorFlow Lite for image processing and machine learning at the edge.</p></li>
<li><p><strong>Data Acquisition and Analysis</strong>: Collect sensor data, perform real-time analysis, and create data logging systems.</p></li>
<li><p><strong>Robotics</strong>: Build robot controllers, implement motion planning algorithms, and interface with motor drivers.</p></li>
<li><p><strong>Signal Processing</strong>: Perform real-time signal analysis, filtering, and DSP applications.</p></li>
<li><p><strong>Network Security</strong>: Set up VPNs, firewalls, and explore network penetration testing.</p></li>
</ol>
<p>This lab will guide you through setting up the most common Raspberry Pi models, so you can get started on your machine learning project quickly. We’ll cover hardware setup, operating system installation, and initial configuration, focusing on preparing your Pi for Machine Learning applications.</p>
</section>
</section>
<section id="hardware-overview" class="level2">
<h2 class="anchored" data-anchor-id="hardware-overview">Hardware Overview</h2>
<section id="raspberry-pi-zero-2w" class="level3">
<h3 class="anchored" data-anchor-id="raspberry-pi-zero-2w">Raspberry Pi Zero 2W</h3>
<p><img src="images/jpeg/zero-hardware.jpg" class="img-fluid"></p>
<ul>
<li><strong>Processor</strong>: 1GHz quad-core 64-bit Arm Cortex-A53 CPU</li>
<li><strong>RAM</strong>: 512MB SDRAM</li>
<li><strong>Wireless</strong>: 2.4GHz 802.11 b/g/n wireless LAN, Bluetooth 4.2, BLE</li>
<li><strong>Ports</strong>: Mini HDMI, micro USB OTG, CSI-2 camera connector</li>
<li><strong>Power</strong>: 5V/2.5A via micro USB port <a href="https://www.raspberrypi.com/products/micro-usb-power-supply/">12.5W Micro USB power supply</a></li>
</ul>
</section>
<section id="raspberry-pi-5" class="level3">
<h3 class="anchored" data-anchor-id="raspberry-pi-5">Raspberry Pi 5</h3>
<p><img src="images/jpeg/r5-hardware.jpg" class="img-fluid"></p>
<ul>
<li><strong>Processor</strong>:
<ul>
<li>Pi 5: Quad-core 64-bit Arm Cortex-A76 CPU @ 2.4GHz</li>
<li>Pi 4: Quad-core Cortex-A72 (ARM v8) 64-bit SoC @ 1.5GHz</li>
</ul></li>
<li><strong>RAM</strong>: 2GB, 4GB, or 8GB options (8GB recommended for AI tasks)</li>
<li><strong>Wireless</strong>: Dual-band 802.11ac wireless (2.4 GHz and 5 GHz), Bluetooth 5.0</li>
<li><strong>Ports</strong>: 2 × micro HDMI ports, 2 × USB 3.0 ports, 2 × USB 2.0 ports, CSI camera port, DSI display port</li>
<li><strong>Power</strong>: 5V/5A, 5V/3A limits peripherals to 600mA, via USB-C connector <a href="https://www.raspberrypi.com/products/27w-power-supply/">27W USB-C power supply</a></li>
</ul>
<blockquote class="blockquote">
<p>In the labs, we will use different names to address the Raspberry Pi: <code>Raspi</code>, <code>Raspi-5</code>, <code>Raspi-Zero</code>, etc. Usually, “Raspi” or “Raspberry Pi” is used when the instructions or comments apply to all models.</p>
</blockquote>
</section>
</section>
<section id="installing-the-operating-system" class="level2">
<h2 class="anchored" data-anchor-id="installing-the-operating-system">Installing the Operating System</h2>
<section id="the-operating-system-os" class="level3">
<h3 class="anchored" data-anchor-id="the-operating-system-os">The Operating System (OS)</h3>
<p>An operating system (OS) is essential software that manages computer hardware and software resources, providing standard services for computer programs. It is the core software that runs on a computer, serving as an intermediary between hardware and application software. The OS oversees the computer’s memory, processes, device drivers, files, and security protocols.</p>
<ol type="1">
<li><strong>Key functions</strong>:
<ul>
<li>Process management: Allocating CPU time to different programs</li>
<li>Memory management: Allocating and freeing up memory as needed</li>
<li>File system management: Organizing and keeping track of files and directories</li>
<li>Device management: Communicating with connected hardware devices</li>
<li>User interface: Providing a way for users to interact with the computer</li>
</ul></li>
<li><strong>Components</strong>:
<ul>
<li>Kernel: The core of the OS that manages hardware resources</li>
<li>Shell: The user interface for interacting with the OS</li>
<li>File system: Organizes and manages data storage</li>
<li>Device drivers: Software that allows the OS to communicate with hardware</li>
</ul></li>
</ol>
<p>The Raspberry Pi runs a specialized version of Linux designed for embedded systems. This operating system, typically a variant of Debian called Raspberry Pi OS (formerly Raspbian), is optimized for the Pi’s ARM-based architecture and limited resources.</p>
<blockquote class="blockquote">
<p>The latest version of Raspberry Pi OS (Dec 25) is based on <a href="https://www.raspberrypi.com/software/operating-systems/">Debian Trixie</a>.</p>
</blockquote>
<p><strong>Key feature</strong>s:</p>
<ol type="1">
<li>Lightweight: Tailored to run efficiently on the Pi’s hardware.</li>
<li>Versatile: Supports a wide range of applications and programming languages.</li>
<li>Open-source: Allows for customization and community-driven improvements.</li>
<li>GPIO support: Enables interaction with sensors and other hardware through the Pi’s pins.</li>
<li>Regular updates: Continuously improved for performance and security.</li>
</ol>
<p>Embedded Linux on the Raspberry Pi provides a full-featured operating system in a compact package, making it ideal for projects ranging from simple IoT devices to more complex edge machine-learning applications. Its compatibility with standard Linux tools and libraries makes it a powerful platform for development and experimentation.</p>
</section>
<section id="installation" class="level3">
<h3 class="anchored" data-anchor-id="installation">Installation</h3>
<p>To use the Raspberry Pi, we will need an operating system. By default, Raspberry Pis check for an operating system on any SD card inserted in the slot, so we should install an operating system using <code>Raspberry Pi Imager</code>.</p>
<blockquote class="blockquote">
<p>In November 2025, the <a href="https://www.raspberrypi.com/software/">Raspberry Pi Imager 2.0</a> was launched. It brings a new wizard interface, the opportunity to pre-configure Raspberry Pi Connect, and improved accessibility for screen readers and other assistive technologies.</p>
</blockquote>
<p><em>Raspberry Pi Imager</em> is a tool for downloading and writing images on <em>macOS</em>, <em>Windows</em>, and <em>Linux</em>. It includes many popular operating system images for Raspberry Pi. We will also use the Imager to preconfigure credentials and remote access settings.</p>
<p>Follow the steps to install the OS on your Raspberry Pi.</p>
<ol type="1">
<li><a href="https://www.raspberrypi.com/software/">Download</a> and install the Raspberry Pi Imager on your computer.</li>
<li>Insert a microSD card into your computer (a 32GB SD card is recommended) .</li>
<li>Open Raspberry Pi Imager and select your Raspberry Pi model.</li>
</ol>
<p><img src="./images/png/select-Pi-Hw.png" class="img-fluid"></p>
<ol start="4" type="1">
<li><p>Choose the appropriate operating system:</p>
<ul>
<li><strong>For Raspi-Zero</strong>: For example, you can select under <code>Raspberry Pi OS (Other)</code>, <code>Raspberry Pi OS Lite (64-bit)</code>.</li>
</ul>
<p><img src="./images/png/image-pi-zero.png" class="img-fluid"></p>
<blockquote class="blockquote">
<p>Due to the Raspberry Pi Zero’s limited SDRAM (512 MB), the recommended OS is the 32-bit version. However, to run some machine learning models, such as the YOLO from Ultralitics, we should use the 64-bit version. Although the Raspi-Zero can run a <em>desktop</em>, we will choose the LITE version (no Desktop) to reduce the RAM needed for regular operation.</p>
</blockquote>
<ul>
<li>For <strong>Raspi-5</strong>: We can select the full 64-bit version, which includes a desktop: <code>Raspberry Pi OS (64-bit)</code></li>
</ul>
<p><img src="./images/png/image-pi-5.png" class="img-fluid"></p></li>
<li><p>Select your microSD card as the storage device.</p></li>
<li><p>Click <code>Next</code>, then go to the <code>Customization</code> tab. The imager will guide you through setting the hostname, the Raspberry Pi username and password, configuring WiFi, and enabling SSH (Very important!).</p></li>
<li><p>Write the image to the microSD card.</p></li>
</ol>
<blockquote class="blockquote">
<p>In the examples here, we will use different hostnames depending on the device used: raspi, raspi-5, raspi-Zero, etc. Please replace it with the one you’re currently using.</p>
</blockquote>
</section>
<section id="initial-configuration" class="level3">
<h3 class="anchored" data-anchor-id="initial-configuration">Initial Configuration</h3>
<ol type="1">
<li>Insert the microSD card into your Raspberry Pi.</li>
<li>Connect the power to boot up the Raspberry Pi. For the Rasp-5, use a 5V/3A (or 5A) external Power supply. For the Rasp-Zero, use a 5V/2.5A external Power supply (Optionally, for light use, you can use the computer’s USB port to power the Rasp-Zero).</li>
</ol>
<p><img src="./images/png/setup.png" class="img-fluid"></p>
<ol start="3" type="1">
<li>Please wait for the initial boot process to complete (it may take a few minutes).</li>
</ol>
<blockquote class="blockquote">
<p>You can find the most common Linux commands for the Raspberry Pi <a href="https://www.jwdittrich.people.ysu.edu/raspberrypi/UsefulRaspberryPiCommands.pdf">here</a> or <a href="https://www.codecademy.com/learn/learn-raspberry-pi/modules/raspberry-pi-command-line-module/cheatsheet">here</a>.</p>
</blockquote>
</section>
</section>
<section id="remote-access" class="level2">
<h2 class="anchored" data-anchor-id="remote-access">Remote Access</h2>
<section id="ssh-access" class="level3">
<h3 class="anchored" data-anchor-id="ssh-access">SSH Access</h3>
<p>The easiest way to interact with the Raspi-Zero is via SSH (“Headless”). You can use a Terminal (MAC/Linux), <a href="https://www.putty.org/">PuTTy (</a>Windows), or any other.</p>
<blockquote class="blockquote">
<p>The Raspberry Pi and the notebook should be on the same WiFi network. Note that the Raspberry Pi 5 supports dual-band 802.11ac Wi-Fi (2.4 GHz and 5 GHz), whereas the Raspberry Pi Zero 2W supports only 2.4 GHz.</p>
</blockquote>
<ol type="1">
<li><p>Find your Raspberry Pi’s IP address (for example, check your router).</p></li>
<li><p>On your computer, open a terminal and connect via SSH:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ssh</span> username@<span class="pp">[</span><span class="ss">raspberry_pi_ip_address</span><span class="pp">]</span>   </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Alternatively, if you do not have the IP address, you can try, for example, <code>ssh mjrovai@rpi-5.local</code> , <code>ssh mjrovai@raspi.local</code> , etc.: <code>bash ssh username@hostname.local</code> When you see the prompt:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mjrovai@rpi-5:~</span> $</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>It means you are interacting with your Raspberry Pi remotely.</p>
<p>It is a good practice to regularly update/upgrade the system. For that, you should run:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt-get update</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt upgrade</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> reboot  <span class="co"># Reboot to ensure all updates take effect</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You should confirm the Raspberry Pi IP address. On the terminal, you can use:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hostname</span> <span class="at">-I</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ol>
<p><img src="images/png/pasted_graphic_11_ILcmyOYU7X.png" class="img-fluid"></p>
<p>Also, check the current Python version:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python3</span> <span class="at">--version</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Once we use the latest Raspberry Pi OS (based on Debian Trixie), it should be: <code>3.13</code>:</p>
<p><img src="./images/png/python-version.png" class="img-fluid"></p>
<p>As of today (January 2026), some packages, such as ExecuTorch, officially support only Python versions 3.10-3.12. Python 3.13.5 is too new and will likely cause compatibility issues. Since <strong>Debian Trixie ships with Python 3.13</strong> by default, we’ll need to install a compatible Python version alongside it.</p>
<p>One solution is to install <a href="https://github.com/pyenv/pyenv">Pyenv</a>, so that we can easily manage multiple Python versions for different projects without affecting the system Python. We will do it in the appropriate Lab. For now, we will keep the system Python.</p>
<blockquote class="blockquote">
<p>If the Raspberry Pi OS is the legacy, the Python version should be 3.11, and it is not necessary to install Pyenv.</p>
</blockquote>
</section>
<section id="to-shut-down-the-raspi-via-terminal" class="level3">
<h3 class="anchored" data-anchor-id="to-shut-down-the-raspi-via-terminal">To shut down the Raspi via terminal:</h3>
<p>When you want to turn off your Raspberry Pi, there are better ideas than just pulling the power cord. This is because the Raspi may still be writing data to the SD card, in which case merely powering down may result in data loss or, even worse, a corrupted SD card.</p>
<p>For a safety shutdown, use the command line:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> shutdown <span class="at">-h</span> now</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<blockquote class="blockquote">
<p>To avoid possible data loss and SD card corruption, before removing power, wait a few seconds after shutdown for the Raspberry Pi’s LED to stop blinking and go dark. Once the LED goes out, it’s safe to power down.</p>
</blockquote>
</section>
<section id="transfer-files-between-the-raspberry-pi-and-a-computer" class="level3">
<h3 class="anchored" data-anchor-id="transfer-files-between-the-raspberry-pi-and-a-computer">Transfer Files between the Raspberry Pi and a computer</h3>
<p>Transferring files between the Raspberry Pi and our main computer can be done using a USB drive, via the terminal (scp), or an FTP program over the network.</p>
<section id="using-secure-copy-protocol-scp" class="level4">
<h4 class="anchored" data-anchor-id="using-secure-copy-protocol-scp">Using Secure Copy Protocol (<code>scp</code>):</h4>
<section id="copy-files-to-your-raspberry-pi" class="level5">
<h5 class="anchored" data-anchor-id="copy-files-to-your-raspberry-pi">Copy files to your Raspberry Pi</h5>
<p>Let’s create a text file on our computer, for example, <code>test.txt</code>.</p>
<p><img src="images/png/test_txt.png" class="img-fluid"></p>
<blockquote class="blockquote">
<p>You can use any text editor. In the same terminal, an option is <code>nano</code>.</p>
</blockquote>
<p>To copy the file named <code>test.txt</code> from your personal computer to a user’s home folder on your Raspberry Pi, run the following command from the directory containing <code>test.txt</code>, replacing the <code>&lt;username&gt;</code> placeholder with the username you use to log in to your Raspberry Pi and the <code>&lt;pi_ip_address&gt;</code> placeholder with your Raspberry Pi’s IP address:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> scp test.txt <span class="op">&lt;</span>username<span class="op">&gt;</span>@<span class="op">&lt;</span>pi_ip_address<span class="op">&gt;</span>:~/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<blockquote class="blockquote">
<p>Note that <code>~/</code> means we will move the file to the ROOT of our Raspberry Pi. You can choose any folder in your Raspberry Pi. But you should create the folder before you run <code>scp</code>, since <code>scp</code> won’t create folders automatically.</p>
</blockquote>
<p>For example, let’s transfer the file <code>test.txt</code> to the ROOT of my Raspberry Pi Zero, which has an IP of <code>192.168.4.210</code>:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">scp</span> test.txt mjrovai@192.168.4.210:~/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="images/png/transfer_file.png" class="img-fluid"></p>
<p>I use a different profile to differentiate the terminals. The action above occurs <strong>on your computer</strong>. Now, let’s go to our Raspi (using SSH) and check if the file is there:</p>
<p><img src="images/png/list_archives.png" class="img-fluid"></p>
</section>
<section id="copy-files-from-your-raspberry-pi" class="level5">
<h5 class="anchored" data-anchor-id="copy-files-from-your-raspberry-pi">Copy files from your Raspberry Pi</h5>
<p>To copy a file named <code>test.txt</code> from a user’s home directory on a Raspberry Pi to the current directory on another computer, run the following command <strong>on your Host Computer</strong>:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> scp <span class="op">&lt;</span>username<span class="op">&gt;</span>@<span class="op">&lt;</span>pi_ip_address<span class="op">&gt;</span>:myfile.txt .</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>For example:</p>
<p>On the Raspi, let’s create a copy of the file with another name:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> test.txt test_2.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>And on the Host Computer (in my case, a Mac)</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">scp</span> mjrovai@192.168.4.210:test_2.txt .</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="images/png/tranfer-text-mac.png" class="img-fluid"></p>
</section>
</section>
<section id="transferring-files-using-ftp" class="level4">
<h4 class="anchored" data-anchor-id="transferring-files-using-ftp">Transferring files using FTP</h4>
<p>Transferring files via FTP, such as <a href="https://filezilla-project.org/download.php?type=client">FileZilla FTP Client</a>, is also possible and much easier to use. Follow the instructions to install the program on your Desktop, then use the Raspberry Pi’s IP address as the <code>Host</code>. For example:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">sftp://192.168.4.210</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Enter your Raspberry Pi <code>username and password</code>. Pressing <code>Quickconnect</code> opens two windows, one for your host computer desktop (right) and another for the Raspberry Pi (left).</p>
<p><img src="images/png/filezila.png" class="img-fluid"></p>
</section>
</section>
</section>
<section id="increasing-swap-memory" class="level2">
<h2 class="anchored" data-anchor-id="increasing-swap-memory">Increasing SWAP Memory</h2>
<p>Using <code>htop</code>, a cross-platform interactive process viewer, we can easily monitor resources on our Raspberry Pi in real time, including the list of processes, the running CPUs, and the memory usage. To lunch <code>hop</code>, enter with the command on the terminal:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">htop</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="./images/png/htop.png" class="img-fluid"></p>
<p>Regarding memory, among the Raspberry Pi family, the Raspberry Pi Zero has the least SRAM (500 MB), compared to 2GB to 16GB on the Raspberry Pi 4 or 5.</p>
<p>On any Raspberry Pi, it is possible to increase/modify the system’s available memory using “Swap.” Swap memory, also known as swap space, is a technique used in computer operating systems to temporarily store data from RAM (Random Access Memory) on the SD card when the physical RAM is fully utilized. This allows the operating system (OS) to continue running even when RAM is full, which can prevent system crashes or slowdowns.</p>
<p>Swap memory benefits devices with limited RAM, such as the Raspberry Pi Zero. Increasing swap can help run more demanding applications or processes, but it’s essential to balance this with the potential performance impact of frequent disk access.</p>
<p>We can check the swap memory using <code>htop</code>or by the command:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> swapon <span class="at">--show</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="./images/png/check-swap.png" class="img-fluid"></p>
<blockquote class="blockquote">
<p>On the Debian Trixie, 2 MB of swap memory is configured by default on the Rasp-5 and 512MB on the Raspi-Zero</p>
</blockquote>
<p>By default, the Rapi-Zero’s SWAP (zram) memory is 512MB, which may be insufficient for running more complex and demanding Machine Learning applications (for example, YOLO). So, let’s increase it to 2MB:</p>
<p>On Zero 2 W with Raspberry Pi OS <strong>Trixie</strong>, you configure <code>rpi-swap</code> by dropping a small config file into <code>/etc/rpi/swap.conf.d/</code>. The same mechanism works on Pi 5 and Zero‑2.</p>
<p>Below are two common patterns: fixed swap file (on SD/SSD) and fixed zram size (in RAM). ### Fixed‑size swap file (e.g., 2 GB on SD)</p>
<ol type="1">
<li><p>Create the override directory (if not already there):</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> mkdir <span class="at">-p</span> /etc/rpi/swap.conf.d</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Create an override file:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> nano /etc/rpi/swap.conf.d/fixedswapsize.conf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Put this in it (example: 2 GB = 2048 MiB):</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode ini code-with-copy"><code class="sourceCode ini"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">[Main]</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="dt">Mechanism</span><span class="ot">=</span><span class="st">swapfile</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="kw">[File]</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="dt">FixedSizeMiB</span><span class="ot">=</span><span class="dv">2048</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><code>Mechanism=swapfile</code> tells <code>rpi-swap</code> to use a classic swap file.<br>
</li>
<li><code>FixedSizeMiB</code> is the exact size we want, in MiB.</li>
</ul></li>
<li><p>Apply:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> systemctl restart rpi-swap</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="ex">swapon</span> <span class="at">--show</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ol>
<p>We should now see <code>/var/swap</code> with the size we set.</p>
<section id="fixedsize-zram-better-for-zero2s-sd-card" class="level3">
<h3 class="anchored" data-anchor-id="fixedsize-zram-better-for-zero2s-sd-card">Fixed‑size <strong>zram</strong> (better for Zero‑2’s SD card)</h3>
<p>If we want to keep everything in compressed RAM (no SD wear), we can set a fixed zram size instead:</p>
<ol type="1">
<li><p>Create the same drop‑in file:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> nano /etc/rpi/swap.conf.d/fixedzram.conf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Set the zram swap:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode ini code-with-copy"><code class="sourceCode ini"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="kw">[Main]</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="dt">Mechanism</span><span class="ot">=</span><span class="st">zram</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="kw">[Zram]</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="dt">FixedSizeMiB</span><span class="ot">=</span><span class="dv">2048</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Apply and check:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> systemctl restart rpi-swap</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="ex">swapon</span> <span class="at">--show</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ol>
<p>We should see <code>/dev/zram0</code> with the new size.</p>
</section>
<section id="notes-specific-to-zero-2-w-trixie" class="level3">
<h3 class="anchored" data-anchor-id="notes-specific-to-zero-2-w-trixie">Notes specific to Zero 2 W Trixie</h3>
<ul>
<li>Default Trixie on Zero‑2 uses <code>rpi-swap</code> with zram sized roughly to <strong>RAM×1</strong>, capped by <code>MaxSizeMiB</code> (usually 2048), and no swap file unless you add it.</li>
<li>If we create multiple drop‑ins in <code>/etc/rpi/swap.conf.d/</code>, they are merged; keep it simple with one clear override file per board/use‑case.</li>
</ul>
<blockquote class="blockquote">
<p>To keep htop running, open another terminal window to continuously interact with the Raspberry Pi.</p>
</blockquote>
</section>
</section>
<section id="installing-a-camera" class="level2">
<h2 class="anchored" data-anchor-id="installing-a-camera">Installing a Camera</h2>
<p>The Raspberry Pi is an excellent device for computer vision applications that require a camera. We can install a camera module connected to the Raspberry Pi CSI (Camera Serial Interface) port, or a standard USB webcam on the micro-USB port using a USB OTG adapter (Raspi-Zero) or directly on the USB port on the Raspi-5.</p>
<blockquote class="blockquote">
<p>USB Webcams generally have inferior image quality compared to camera modules that connect to the CSI port. They can not be controlled using the raspistill and rasivid commands in the terminal, or the <code>picamera</code> recording package in Python. Nevertheless, there may be reasons you want to connect a USB camera to your Raspberry Pi, such as setting up multiple cameras with a single Raspberry Pi, avoiding long cables, or simply because you have such a camera on hand.</p>
</blockquote>
<section id="installing-a-camera-module-on-the-csi-port" class="level3">
<h3 class="anchored" data-anchor-id="installing-a-camera-module-on-the-csi-port">Installing a Camera Module on the CSI port</h3>
<p>There are now several Raspberry Pi camera modules. The original 5-megapixel model was <a href="https://www.raspberrypi.com/news/camera-board-available-for-sale/">released</a>in 2013, followed by the <a href="https://www.raspberrypi.com/products/camera-module-v2/">8-megapixel Camera Module 2,</a> released in 2016. The latest camera model is the <a href="https://www.raspberrypi.com/documentation/accessories/camera.html#:~:text=the%2012-megapixel-,Camera%20Module%203,-which%20was%20released">12-megapixel Camera Module 3,</a> released in 2023.</p>
<p>The original 5MP camera (<strong>Arducam OV5647</strong>) is no longer available from Raspberry Pi but can be found from several alternative suppliers. Below is an example of such a camera on a Raspberry Pi Zero.</p>
<p><img src="images/jpeg/rasp-zero-with-cam.jpg" class="img-fluid"></p>
<p>Here is another example of a v2 Camera Module, which has a <strong>Sony IMX219</strong> 8-megapixel sensor:</p>
<p><img src="images/png/raspi-5-cam.png" class="img-fluid"></p>
<p>First, try to list the installed cameras:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">rpicam-hello</span> <span class="at">--list-cameras</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If the command is not recognized, install</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt install libcamera-apps</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Try to list the installed camera again. If Ok, you should see something like:</p>
<p><img src="./images/png/camera-installed.png" class="img-fluid"></p>
<p>Any camera module will work on the Raspberry Pi, but for that, it is possible that the <code>config.txt</code> file must be updated:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> nano /boot/firmware/config.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>At the bottom of the file, for example, to use the 5MP Arducam OV5647 camera, add the line:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="va">dtoverlay</span><span class="op">=</span>ov5647,cam0</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Or for the v2 module, wich has the 8MP Sony IMX219 camera:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="va">dtoverlay</span><span class="op">=</span>imx219,cam0</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Save the file (CTRL+O [ENTER] CRTL+X) and reboot the Raspi:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="ex">Sudo</span> reboot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>After the boot, you can see if the camera is listed:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="ex">rpicam-hello</span> <span class="at">--list-cameras</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="images/jpeg/list_cams_raspi-zero.jpg" class="img-fluid"></p>
<p><img src="images/png/list_cams_raspi-5.png" class="img-fluid"></p>
<blockquote class="blockquote">
<p><a href="https://www.raspberrypi.com/documentation/computers/camera_software.html#libcamera">libcamera</a>is an open-source software library that supports camera systems directly on Linux for Arm processors. It minimizes the amount of proprietary code running on the Broadcom GPU.</p>
</blockquote>
<p>Let’s capture a JPEG image with a resolution of 640 x 480 for testing and save it to a file named <code>test_cli_camera.jpg</code></p>
<div class="sourceCode" id="cb29"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="ex">rpicam-jpeg</span> <span class="at">--output</span> test_cli_camera.jpg <span class="at">--width</span> 640 <span class="at">--height</span> 480</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To view the saved file, we should use <code>ls</code>, which lists the contents of the current directory:</p>
<p><img src="./images/png/image-test-system.png" class="img-fluid"></p>
<p>As before, we can use scp to view the image:</p>
<p><img src="images/png/test_camera_raspi-5.png" class="img-fluid"></p>
<p>Alternatively, you can transfer it to your desktop using <strong>FileZilla</strong>.</p>
</section>
<section id="installing-a-usb-webcam" class="level3">
<h3 class="anchored" data-anchor-id="installing-a-usb-webcam">Installing a USB WebCam</h3>
<ol type="1">
<li>Power off the Raspi:</li>
</ol>
<div class="sourceCode" id="cb30"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> shutdown <span class="at">-h</span> no</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="2" type="1">
<li>Connect the USB Webcam (USB Camera Module 30 fps, 1280x720) to your Raspberry Pi (in this example, I am using a Raspberry Pi Zero, but the instructions work for all Raspberry Pis).</li>
</ol>
<p><img src="images/jpeg/usb-cam-2.jpg" class="img-fluid"></p>
<ol start="3" type="1">
<li>Power on again and run the SSH</li>
<li>To check if your USB camera is recognized, run:</li>
</ol>
<div class="sourceCode" id="cb31"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lsusb</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You should see your camera listed in the output.</p>
<p><img src="images/png/USB-CAM-2.png" class="img-fluid"></p>
<ol start="5" type="1">
<li>To take a test picture with your USB camera, use:</li>
</ol>
<div class="sourceCode" id="cb32"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="ex">fswebcam</span> test_image.jpg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This will save an image named “test_image.jpg” in your current directory.</p>
<p><img src="images/png/image-test.png" class="img-fluid"></p>
<ol start="6" type="1">
<li>Since we are using SSH to connect to our Rapsi, we must transfer the image to our main computer so we can view it. We can use FileZilla or SCP for this:</li>
</ol>
<p>Open a terminal <strong>on your host computer</strong> and run:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">scp</span> mjrovai@raspi-zero.local:~/test_image.jpg .</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<blockquote class="blockquote">
<p>Replace “mjrovai” with your username and “raspi-zero” with Pi’s hostname.</p>
</blockquote>
<p><img src="images/png/cam-2_test.png" class="img-fluid"></p>
<ol start="7" type="1">
<li>If the image quality isn’t satisfactory, you can adjust various settings; for example, define a resolution that is suitable for YOLO (640x640):</li>
</ol>
<div class="sourceCode" id="cb34"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="ex">fswebcam</span> <span class="at">-r</span> 640x640 <span class="at">--no-banner</span> test_image_yolo.jpg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This captures a higher-resolution image without the default banner.</p>
<p><img src="images/png/usb-cam-test-2.png" class="img-fluid"></p>
<p>An ordinary USB Webcam can also be used:</p>
<p><img src="images/jpeg/usb_camera.jpg" class="img-fluid"></p>
<p>And verified using <code>lsusb</code></p>
<p><img src="images/png/usb-cam-test.png" class="img-fluid"></p>
<section id="video-streaming" class="level4">
<h4 class="anchored" data-anchor-id="video-streaming">Video Streaming</h4>
<p>For stream video (which is more resource-intensive), we can install and use mjpg-streamer:</p>
<p>First, install Git:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt install git</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now, we should install the necessary dependencies for mjpg-streamer, clone the repository, and proceed with the installation:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt install cmake libjpeg62-turbo-dev</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/jacksonliam/mjpg-streamer.git</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> mjpg-streamer/mjpg-streamer-experimental</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> make install</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Then start the stream with:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mjpg_streamer</span> <span class="at">-i</span> <span class="st">"input_uvc.so"</span> <span class="at">-o</span> <span class="st">"output_http.so -w ./www"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>We can then access the stream by opening a web browser and navigating to:</p>
<p><code>http://&lt;your_pi_ip_address&gt;:8080</code>. In my case: http://192.168.4.210:8080</p>
<p>We should see a webpage with options to view the stream. Click on the link that says “Stream” or try accessing:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="ex">http://</span><span class="op">&lt;</span>raspberry_pi_ip_address<span class="op">&gt;</span>:8080/<span class="pp">?</span>action=stream</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="images/png/streem.png" class="img-fluid"></p>
</section>
</section>
</section>
<section id="running-the-raspi-desktop-remotely" class="level2">
<h2 class="anchored" data-anchor-id="running-the-raspi-desktop-remotely">Running the Raspi Desktop remotely</h2>
<p>While we’ve primarily interacted with the Raspberry Pi via SSH terminal commands, we can access the full graphical desktop environment remotely if we have installed the complete Raspberry Pi OS (for example, <code>Raspberry Pi OS (64-bit)</code>. This can be particularly useful for tasks that benefit from a visual interface. To enable this functionality, we must set up a VNC (Virtual Network Computing) server on the Raspberry Pi. Here’s how to do it:</p>
<ol type="1">
<li><p>Enable the VNC Server:</p>
<ul>
<li><p>Connect to your Raspberry Pi via SSH.</p></li>
<li><p>Run the Raspberry Pi configuration tool by entering:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> raspi-config</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Navigate to <code>Interface Options</code> using the arrow keys.</p></li>
</ul>
<p><img src="images/png/vnc-1.png" class="img-fluid"></p>
<ul>
<li>Select <code>VNC</code> and <code>Yes</code> to enable the VNC server.</li>
</ul>
<p><img src="images/png/vnc-2.png" class="img-fluid"></p>
<ul>
<li>Exit the configuration tool (use <code>[Tab]</code>), saving changes when prompted.</li>
</ul>
<p><img src="images/png/vnc-3.png" class="img-fluid"></p></li>
<li><p>Install a VNC Viewer on Your Computer:</p>
<ul>
<li>Download and install a VNC viewer application on your main computer. Popular options include RealVNC Viewer, TightVNC, or VNC Viewer by RealVNC. We will install <a href="https://www.realvnc.com/en/connect/download/viewer">VNC Viewer</a> by RealVNC.</li>
</ul></li>
<li><p>Once installed, confirm the Raspberry Pi’s IP address. For example, on the terminal, you can use:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hostname</span> <span class="at">-I</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="images/png/vnc-4.png" class="img-fluid"></p></li>
<li><p>Connect to Your Raspberry Pi:</p>
<ul>
<li>Open your VNC viewer application.</li>
</ul>
<p><img src="images/png/vnc-5.png" class="img-fluid"></p>
<ul>
<li>Enter your Raspberry Pi’s IP address and hostname.</li>
<li>When prompted, enter your Raspberry Pi’s username and password.</li>
</ul>
<p><img src="images/png/vnc-7.png" class="img-fluid"></p></li>
<li><p>The Raspberry Pi 5 Desktop should appear on your computer monitor.</p>
<p><img src="./images/png/vnc-rpi-5.png" class="img-fluid"></p></li>
<li><p>Adjust Display Settings (if needed):</p>
<ul>
<li>Once connected, adjust the display resolution for optimal viewing. This can be done through the Raspberry Pi’s desktop settings or by modifying the config.txt file.</li>
<li>Let’s do it using the desktop settings. Reach the menu (the Raspberry Icon at the left upper corner) and select the best screen definition for your monitor:</li>
</ul></li>
</ol>
<p><img src="images/png/vnc-9.png" class="img-fluid"></p>
</section>
<section id="updating-and-installing-software" class="level2">
<h2 class="anchored" data-anchor-id="updating-and-installing-software">Updating and Installing Software</h2>
<ol type="1">
<li><p>Update your system:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt update <span class="kw">&amp;&amp;</span> <span class="fu">sudo</span> apt upgrade <span class="at">-y</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Install essential software:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt install python3-pip <span class="at">-y</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Enable pip for Python projects:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> rm /usr/lib/python3.11/EXTERNALLY-MANAGED</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ol>
<blockquote class="blockquote">
<p>AVOID using PIP for System-Level dependencies libraries</p>
<p>Use <code>sudo apt install</code> (outside of a virtual environment (<code>venv</code>) for:</p>
<ul>
<li><p>System-level dependencies and libraries</p></li>
<li><p>Hardware interface libraries (as a camera)</p></li>
<li><p>Development headers and build tools</p></li>
<li><p>Anything that needs to interface directly with hardware</p></li>
</ul>
</blockquote>
<p><strong>Rule of thumb</strong>: Use <code>sudo apt install</code> only for system dependencies and hardware interfaces. Use <code>pip install</code> (without sudo) inside an activated virtual environment for everything else. Inside the vent, PIP or PIP3 are the same.</p>
</section>
<section id="model-specific-considerations" class="level2">
<h2 class="anchored" data-anchor-id="model-specific-considerations">Model-Specific Considerations</h2>
<section id="raspberry-pi-zero-raspi-zero" class="level3">
<h3 class="anchored" data-anchor-id="raspberry-pi-zero-raspi-zero">Raspberry Pi Zero (Raspi-Zero)</h3>
<ul>
<li>Limited processing power, best for lightweight projects</li>
<li>It is better to use a headless setup (SSH) to conserve resources.</li>
<li>Consider increasing swap space for memory-intensive tasks.</li>
<li>It can be used for Image Classification and Object Detection Labs, but not for the LLM (SLM).</li>
</ul>
</section>
<section id="raspberry-pi-4-or-5-raspi-4-or-raspi-5" class="level3">
<h3 class="anchored" data-anchor-id="raspberry-pi-4-or-5-raspi-4-or-raspi-5">Raspberry Pi 4 or 5 (Raspi-4 or Raspi-5)</h3>
<ul>
<li>Suitable for more demanding projects, including AI and machine learning.</li>
<li>It can run the whole desktop environment smoothly.</li>
<li>The Raspberry Pi 4 can be used for Image Classification and Object Detection Labs, but it will not work well with LLMs (SLM) due to high latency.</li>
<li>For the Raspberry Pi 5, consider using an active cooler to manage temperature during intensive tasks, as in the LLMs (SLMs) lab.</li>
</ul>
<p>Remember to adjust your project requirements based on the specific Raspberry Pi model you’re using. The Raspi-Zero is great for low-power, space-constrained projects, while the Raspi-4 or 5 models are better suited for more computationally intensive tasks.</p>
<p>Here’s a concise, copy‑pasteable tutorial you can share or publish.</p>
<hr>
</section>
</section>
<section id="measuring-temperature-and-power" class="level2">
<h2 class="anchored" data-anchor-id="measuring-temperature-and-power">Measuring Temperature and Power</h2>
<p>In this section, we will explore how to measure (and monitor) <strong>CPU temperature</strong> and <strong>power consumption</strong> on a Raspberry Pi 5 using only built‑in tools and a small shell script.</p>
<hr>
<section id="check-cpu-temperature" class="level3">
<h3 class="anchored" data-anchor-id="check-cpu-temperature">Check CPU Temperature</h3>
<section id="quick-oneshot-reading" class="level4">
<h4 class="anchored" data-anchor-id="quick-oneshot-reading">Quick one‑shot reading</h4>
<div class="sourceCode" id="cb44"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="ex">vcgencmd</span> measure_temp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Example:</p>
<pre class="text"><code>temp=47.2'C</code></pre>
<p>This is the SoC (CPU/GPU) temperature in degrees Celsius.</p>
</section>
<section id="continuous-temperature-monitor" class="level4">
<h4 class="anchored" data-anchor-id="continuous-temperature-monitor">Continuous temperature monitor</h4>
<div class="sourceCode" id="cb46"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="ex">watch</span> <span class="at">-n</span> 2 vcgencmd measure_temp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Updates every 2 seconds.<br>
</li>
<li>Press <code>Ctrl+C</code> to stop.</li>
</ul>
</section>
<section id="reading-from-sysfs-for-scripts" class="level4">
<h4 class="anchored" data-anchor-id="reading-from-sysfs-for-scripts">Reading from sysfs (for scripts)</h4>
<div class="sourceCode" id="cb47"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> /sys/class/thermal/thermal_zone0/temp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The result is in millidegrees Celsius (e.g., 47200 = 47.2 °C).</p>
<p>We should convert to human‑readable:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">$(($(</span><span class="fu">cat</span> /sys/class/thermal/thermal_zone0/temp<span class="va">)</span> <span class="op">/</span> <span class="dv">1000</span><span class="va">))</span><span class="st">'°C'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<hr>
</section>
</section>
<section id="understand-power-measurement-on-pi-5" class="level3">
<h3 class="anchored" data-anchor-id="understand-power-measurement-on-pi-5">Understand Power Measurement on Pi 5</h3>
<p>Raspberry Pi 5 exposes internal <strong>PMIC rails</strong> via <code>vcgencmd pmic_read_adc</code>.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="ex">vcgencmd</span> pmic_read_adc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Example (truncated):</p>
<pre class="text"><code>3V3_SYS_A   current(1)=0.06245952A
1V8_SYS_A   current(2)=0.16102850A
...
3V3_SYS_V   volt(13)=3.29687500V
1V8_SYS_V   volt(14)=1.79687500V
...</code></pre>
<p>To get power, we need to sum <span class="math display">\[P_i = V_i \times I_i\]</span> over all rails. This gives <strong>board core power</strong>, not exact wall power (USB devices and PSU losses are not fully included).</p>
<hr>
</section>
<section id="script-average-temperature-and-power" class="level3">
<h3 class="anchored" data-anchor-id="script-average-temperature-and-power">Script: Average Temperature and Power</h3>
<p>Let’s create a script that:</p>
<ul>
<li>Samples once per second for N seconds.<br>
</li>
<li>Computes the average CPU temperature.<br>
</li>
<li>Sums all PMIC rails to get power.<br>
</li>
<li>Applies a linear correction to estimate real board power, <a href="https://github.com/jfikar/RPi5-power/blob/main/README.md">based on the RPi5‑power calibration</a>.</li>
</ul>
<section id="create-the-script" class="level4">
<h4 class="anchored" data-anchor-id="create-the-script">Create the script</h4>
<div class="sourceCode" id="cb51"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nano</span> avg_temp_power.sh</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Paste:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="co"># avg_temp_power.sh</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Measure average CPU temperature and power on Raspberry Pi 5</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a><span class="va">SECONDS</span><span class="op">=</span>50   <span class="co"># number of samples (1 per second)</span></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a><span class="va">TEMP_FILE</span><span class="op">=</span><span class="va">$(</span><span class="fu">mktemp</span><span class="va">)</span></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a><span class="va">PMIC_FILE</span><span class="op">=</span><span class="va">$(</span><span class="fu">mktemp</span><span class="va">)</span></span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"Sampling for </span><span class="va">${SECONDS}</span><span class="st"> seconds..."</span></span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="va">$(</span><span class="fu">seq</span> 1 <span class="va">${SECONDS})</span><span class="kw">;</span> <span class="cf">do</span></span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- Temperature (°C) ---</span></span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a>    <span class="va">temp_c</span><span class="op">=</span><span class="va">$(</span><span class="ex">vcgencmd</span> measure_temp <span class="kw">|</span> <span class="fu">cut</span> <span class="at">-d</span><span class="op">=</span> <span class="at">-f2</span> <span class="kw">|</span> <span class="fu">cut</span> <span class="at">-d</span><span class="st">"'"</span> <span class="at">-f1</span><span class="va">)</span></span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"</span><span class="va">$temp_c</span><span class="st">"</span> <span class="op">&gt;&gt;</span> <span class="st">"</span><span class="va">${TEMP_FILE}</span><span class="st">"</span></span>
<span id="cb52-16"><a href="#cb52-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-17"><a href="#cb52-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># --- PMIC power sum (W) ---</span></span>
<span id="cb52-18"><a href="#cb52-18" aria-hidden="true" tabindex="-1"></a>    <span class="va">pmic_line</span><span class="op">=</span><span class="va">$(</span><span class="ex">vcgencmd</span> pmic_read_adc<span class="va">)</span></span>
<span id="cb52-19"><a href="#cb52-19" aria-hidden="true" tabindex="-1"></a>    <span class="va">volts</span><span class="op">=</span><span class="va">($(</span><span class="bu">echo</span> <span class="st">"</span><span class="va">$pmic_line</span><span class="st">"</span> <span class="kw">|</span> <span class="fu">grep</span> <span class="at">-o</span> <span class="st">"volt([^)]*)=[0-9.]*V"</span> <span class="kw">|</span> <span class="fu">sed</span> <span class="st">'s/.*=//;s/V//'</span><span class="va">))</span></span>
<span id="cb52-20"><a href="#cb52-20" aria-hidden="true" tabindex="-1"></a>    <span class="va">currents</span><span class="op">=</span><span class="va">($(</span><span class="bu">echo</span> <span class="st">"</span><span class="va">$pmic_line</span><span class="st">"</span> <span class="kw">|</span> <span class="fu">grep</span> <span class="at">-o</span> <span class="st">"current([^)]*)=[0-9.]*A"</span> <span class="kw">|</span> <span class="fu">sed</span> <span class="st">'s/.*=//;s/A//'</span><span class="va">))</span></span>
<span id="cb52-21"><a href="#cb52-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-22"><a href="#cb52-22" aria-hidden="true" tabindex="-1"></a>    <span class="va">sum_pmic</span><span class="op">=</span>0</span>
<span id="cb52-23"><a href="#cb52-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> idx <span class="kw">in</span> <span class="st">"</span><span class="va">${</span><span class="op">!</span><span class="va">volts</span><span class="op">[@]</span><span class="va">}</span><span class="st">"</span><span class="kw">;</span> <span class="cf">do</span></span>
<span id="cb52-24"><a href="#cb52-24" aria-hidden="true" tabindex="-1"></a>        <span class="va">v</span><span class="op">=</span><span class="va">${volts</span><span class="op">[</span><span class="va">$idx</span><span class="op">]</span><span class="va">}</span></span>
<span id="cb52-25"><a href="#cb52-25" aria-hidden="true" tabindex="-1"></a>        <span class="va">i_amp</span><span class="op">=</span><span class="va">${currents</span><span class="op">[</span><span class="va">$idx</span><span class="op">]</span><span class="va">}</span></span>
<span id="cb52-26"><a href="#cb52-26" aria-hidden="true" tabindex="-1"></a>        <span class="va">sum_pmic</span><span class="op">=</span><span class="va">$(</span><span class="fu">awk</span> <span class="at">-v</span> a=<span class="st">"</span><span class="va">$sum_pmic</span><span class="st">"</span> <span class="at">-v</span> b=<span class="st">"</span><span class="va">$v</span><span class="st">"</span> <span class="at">-v</span> c=<span class="st">"</span><span class="va">$i_amp</span><span class="st">"</span> <span class="dt">\</span></span>
<span id="cb52-27"><a href="#cb52-27" aria-hidden="true" tabindex="-1"></a>                   <span class="st">'BEGIN{printf "%.8f", a + b*c}'</span><span class="va">)</span></span>
<span id="cb52-28"><a href="#cb52-28" aria-hidden="true" tabindex="-1"></a>    <span class="cf">done</span></span>
<span id="cb52-29"><a href="#cb52-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-30"><a href="#cb52-30" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"</span><span class="va">$sum_pmic</span><span class="st">"</span> <span class="op">&gt;&gt;</span> <span class="st">"</span><span class="va">${PMIC_FILE}</span><span class="st">"</span></span>
<span id="cb52-31"><a href="#cb52-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sleep</span> 1</span>
<span id="cb52-32"><a href="#cb52-32" aria-hidden="true" tabindex="-1"></a><span class="cf">done</span></span>
<span id="cb52-33"><a href="#cb52-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-34"><a href="#cb52-34" aria-hidden="true" tabindex="-1"></a><span class="co"># --- Compute statistics ---</span></span>
<span id="cb52-35"><a href="#cb52-35" aria-hidden="true" tabindex="-1"></a><span class="fu">awk</span> <span class="at">-v</span> corr_a=1.1451 <span class="at">-v</span> corr_b=0.5879 <span class="st">'</span></span>
<span id="cb52-36"><a href="#cb52-36" aria-hidden="true" tabindex="-1"></a><span class="st">function stats(file,   x, n, sum, sum2, mean, std) {</span></span>
<span id="cb52-37"><a href="#cb52-37" aria-hidden="true" tabindex="-1"></a><span class="st">    while ((getline x &lt; file) &gt; 0) {</span></span>
<span id="cb52-38"><a href="#cb52-38" aria-hidden="true" tabindex="-1"></a><span class="st">        n++</span></span>
<span id="cb52-39"><a href="#cb52-39" aria-hidden="true" tabindex="-1"></a><span class="st">        sum  += x</span></span>
<span id="cb52-40"><a href="#cb52-40" aria-hidden="true" tabindex="-1"></a><span class="st">        sum2 += x*x</span></span>
<span id="cb52-41"><a href="#cb52-41" aria-hidden="true" tabindex="-1"></a><span class="st">    }</span></span>
<span id="cb52-42"><a href="#cb52-42" aria-hidden="true" tabindex="-1"></a><span class="st">    close(file)</span></span>
<span id="cb52-43"><a href="#cb52-43" aria-hidden="true" tabindex="-1"></a><span class="st">    if (n &gt; 1) {</span></span>
<span id="cb52-44"><a href="#cb52-44" aria-hidden="true" tabindex="-1"></a><span class="st">        mean = sum / n</span></span>
<span id="cb52-45"><a href="#cb52-45" aria-hidden="true" tabindex="-1"></a><span class="st">        std  = sqrt( (sum2 - (sum*sum)/n) / (n-1) )</span></span>
<span id="cb52-46"><a href="#cb52-46" aria-hidden="true" tabindex="-1"></a><span class="st">    } else {</span></span>
<span id="cb52-47"><a href="#cb52-47" aria-hidden="true" tabindex="-1"></a><span class="st">        mean = sum</span></span>
<span id="cb52-48"><a href="#cb52-48" aria-hidden="true" tabindex="-1"></a><span class="st">        std  = 0</span></span>
<span id="cb52-49"><a href="#cb52-49" aria-hidden="true" tabindex="-1"></a><span class="st">    }</span></span>
<span id="cb52-50"><a href="#cb52-50" aria-hidden="true" tabindex="-1"></a><span class="st">    return mean "|" std</span></span>
<span id="cb52-51"><a href="#cb52-51" aria-hidden="true" tabindex="-1"></a><span class="st">}</span></span>
<span id="cb52-52"><a href="#cb52-52" aria-hidden="true" tabindex="-1"></a><span class="st">BEGIN{</span></span>
<span id="cb52-53"><a href="#cb52-53" aria-hidden="true" tabindex="-1"></a><span class="st">    split(stats("'"</span><span class="va">${TEMP_FILE}</span><span class="st">"'"), t, "|")</span></span>
<span id="cb52-54"><a href="#cb52-54" aria-hidden="true" tabindex="-1"></a><span class="st">    t_mean = t[1]</span></span>
<span id="cb52-55"><a href="#cb52-55" aria-hidden="true" tabindex="-1"></a><span class="st">    t_std  = t[2]</span></span>
<span id="cb52-56"><a href="#cb52-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-57"><a href="#cb52-57" aria-hidden="true" tabindex="-1"></a><span class="st">    split(stats("'"</span><span class="va">${PMIC_FILE}</span><span class="st">"'"), p, "|")</span></span>
<span id="cb52-58"><a href="#cb52-58" aria-hidden="true" tabindex="-1"></a><span class="st">    p_pmic_mean = p[1]</span></span>
<span id="cb52-59"><a href="#cb52-59" aria-hidden="true" tabindex="-1"></a><span class="st">    p_pmic_std  = p[2]</span></span>
<span id="cb52-60"><a href="#cb52-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-61"><a href="#cb52-61" aria-hidden="true" tabindex="-1"></a><span class="st">    # Apply linear correction for real power estimate (RPi5-power calibration)</span></span>
<span id="cb52-62"><a href="#cb52-62" aria-hidden="true" tabindex="-1"></a><span class="st">    p_real_mean = corr_a * p_pmic_mean + corr_b</span></span>
<span id="cb52-63"><a href="#cb52-63" aria-hidden="true" tabindex="-1"></a><span class="st">    p_real_std  = corr_a * p_pmic_std</span></span>
<span id="cb52-64"><a href="#cb52-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-65"><a href="#cb52-65" aria-hidden="true" tabindex="-1"></a><span class="st">    printf "Average_temperature = %.2f +/- %.2f °C\n", t_mean, t_std</span></span>
<span id="cb52-66"><a href="#cb52-66" aria-hidden="true" tabindex="-1"></a><span class="st">    printf "Average_pmic_power  = %.3f +/- %.3f W\n", p_pmic_mean, p_pmic_std</span></span>
<span id="cb52-67"><a href="#cb52-67" aria-hidden="true" tabindex="-1"></a><span class="st">    printf "Estimated_real_power = %.3f +/- %.3f W\n", p_real_mean, p_real_std</span></span>
<span id="cb52-68"><a href="#cb52-68" aria-hidden="true" tabindex="-1"></a><span class="st">}</span></span>
<span id="cb52-69"><a href="#cb52-69" aria-hidden="true" tabindex="-1"></a><span class="st">'</span> /dev/null</span>
<span id="cb52-70"><a href="#cb52-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-71"><a href="#cb52-71" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> <span class="at">-f</span> <span class="st">"</span><span class="va">${TEMP_FILE}</span><span class="st">"</span> <span class="st">"</span><span class="va">${PMIC_FILE}</span><span class="st">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Save and exit.</p>
</section>
<section id="make-it-executable" class="level4">
<h4 class="anchored" data-anchor-id="make-it-executable">Make it executable</h4>
<div class="sourceCode" id="cb53"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">chmod</span> +x avg_temp_power.sh</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="run-a-measurement" class="level3">
<h3 class="anchored" data-anchor-id="run-a-measurement">Run a measurement</h3>
<p>Idle baseline:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="ex">./avg_temp_power.sh</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Example output (30–50 s window, active fan):</p>
<pre class="text"><code>Sampling for 50 seconds...
Average_temperature = 47.25 +/- 0.40 °C
Average_pmic_power  = 2.312 +/- 0.298 W
Estimated_real_power = 3.235 +/- 0.341 W</code></pre>
<p>Then start a heavy workload (e.g., Llama 3.2:3B) in another terminal and run the script again during inference. You should see higher temperature and power, often around 70–75 °C and 10–11 W with active cooling.</p>
<p><img src="./images/png/temp=power.png" class="img-fluid"></p>
<hr>
</section>
<section id="interpreting-the-results" class="level3">
<h3 class="anchored" data-anchor-id="interpreting-the-results">Interpreting the Results</h3>
<p>Typical Raspberry Pi 5 ranges with active cooling:</p>
<table class="table">
<thead>
<tr class="header">
<th>State</th>
<th>Temp (°C)</th>
<th>Estimated real power (W)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Idle CLI</td>
<td>40–50</td>
<td>3.0–3.5</td>
</tr>
<tr class="even">
<td>Light desktop</td>
<td>50–60</td>
<td>4–5</td>
</tr>
<tr class="odd">
<td>Moderate CPU load</td>
<td>55–70</td>
<td>5–7</td>
</tr>
<tr class="even">
<td>Heavy CPU/GPU</td>
<td>70–80</td>
<td>7–10</td>
</tr>
</tbody>
</table>
<ul>
<li>Throttling usually starts around 80 °C, with a hard limit at 85 °C.[5]</li>
<li>If we are well below that under full load, your cooling solution is working properly.</li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
          // default icon
          link.classList.add("external");
      }
    }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../raspi/image_classification/image_classification_fund.html" class="pagination-link">
        <span class="nav-page-text">Image Classification Fundamentals</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Written and edited by Prof.&nbsp;Marcelo Rovai (UNIFEI University)</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">This book was built with <a href="https://quarto.org/">Quarto</a>.</div>
  </div>
</footer>



</body></html>